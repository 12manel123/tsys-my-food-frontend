<div class="order-dasboard">
    <h2 class="mt-3">Orders List</h2>
    <mat-paginator
        [pageSize]="selectedPageSize"
        [pageIndex]="currentPage - 1"
        [length]="totalEntities"
        [pageSizeOptions]="[1, 5, 10]"
        aria-label="Select page"
        (page)="onChange($event)">
        </mat-paginator>

    <mat-table [dataSource]="orders" class="mat-elevation-z8">
        <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef class="mat-column-id">ID</mat-header-cell>
            <mat-cell *matCellDef="let order" class="mat-column-id">{{ order.orderId }}{{ order.id }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="maked">
            <mat-header-cell *matHeaderCellDef class="mat-column-maked">Maked</mat-header-cell>
            <mat-cell *matCellDef="let order" class="mat-column-maked">{{ order.maked }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="slot">
            <mat-header-cell *matHeaderCellDef class="mat-column-slot">Slot</mat-header-cell>
            <mat-cell *matCellDef="let order" class="mat-column-slot">{{ order.slot?.time }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="price">
            <mat-header-cell *matHeaderCellDef class="mat-column-price">Price</mat-header-cell>
            <mat-cell *matCellDef="let order" class="mat-column-price">{{ order.totalPrice | currency:'EUR' }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="datetime">
            <mat-header-cell *matHeaderCellDef class="mat-column-date" (click)="loadOrdersDate()">Date and Time</mat-header-cell>
            <mat-cell *matCellDef="let order" class="mat-column-date">{{ order.actualDate | date }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="dishes">
            <mat-header-cell *matHeaderCellDef>Dishes</mat-header-cell>
            <mat-cell *matCellDef="let order">
                @if (ordersDate[0]) {}

                        <select  class="form-select" matNativeControl>
                            @for (dish of order.dishes; track $index) {
                            <option value="{{ dish.name }}">{{ dish.name }}</option>}
                        </select>
            </mat-cell>
        </ng-container>

        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let order">
                <button class="button"  mat-icon-button color="warn" (click)="removeOrder(order.orderId)">
                    <mat-icon aria-hidden="false" fontIcon="delete"></mat-icon>
                </button>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>

    
    
    
</div>
